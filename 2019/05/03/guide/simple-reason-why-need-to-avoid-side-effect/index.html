<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=0.5"><link rel="stylesheet" href="/css/post.css"><link rel="icon" href="/articles/img/favicon.png"><title>Simple Reason Why Need to Avoid Side Effect</title><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/articles/atom.xml" title="Articles" type="application/atom+xml">
</head><body>　　<div class="inner"><h2>Simple Reason Why Need to Avoid Side Effect</h2><h2 id="Counterexample"><a href="#Counterexample" class="headerlink" title="Counterexample"></a>Counterexample</h2><p>Moments ago I wrote a mutation function in a Vue.js project with side-effect, which means I’d mutated the params.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// the mutation function at a glance</span></span><br><span class="line">[types.MUTATION_NAME](state: State, <span class="attr">data</span>: DataInterface) &#123;</span><br><span class="line">  data.foo = newObject</span><br><span class="line">  data.bar = newObject</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Besides, I <code>watch</code> the params passed to the mutation function in the component. Then a infinite loop occurred. ;(</p>
<p>That’s why we need to avoid side effect, a simple reason.</p>
<hr><p><span>↶ </span><a href="/">返回首页</a><span></span></p></div><script src="/js/jquery.min.js"></script><script src="/js/main.js"></script></body></html>